---
/**
 * src/components/club-card.astro
 *
 * Props:
 * - href: string (target URL)
 * - title: string (club name)
 * - short?: string (one-line summary)
 * - coverSrc?: string (image URL, e.g., /src/clubs/<slug>/images/cover.jpg)
 */
interface Props {
  href: string;
  title: string;
  short?: string;
  coverSrc?: string;
  categories?: string[];
}
const { href, title, short, coverSrc, categories = [] } = Astro.props as Props;
---

<a href={href} class="group block focus:outline-none">
  <article
    class="rounded-2xl bg-white shadow-sm transition
           hover:bg-gray-100 focus-visible:ring-2 focus-visible:ring-indigo-500"
  >
    <!-- Media -->
    <div class="relative aspect-[4/3] overflow-hidden rounded-t-2xl">
      {
        coverSrc ? (
          <img
            src={coverSrc}
            alt={`${title} cover`}
            class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"
            loading="lazy"
            decoding="async"
          />
        ) : (
          <div class="h-full w-full bg-gray-200" />
        )
      }
      <div
        class="pointer-events-none absolute inset-0 ring-1 ring-inset ring-black/5"
      >
      </div>
    </div>

    <!-- Body -->
    <div class="p-4">
      <!-- Body: allow full wrapping; no truncation -->
      <h3 class="text-base font-semibold tracking-tight text-gray-900">
        {title}
      </h3>
      {short && <p class="mt-1 text-sm text-gray-600 line-clamp-2">{short}</p>}
      {
        categories.length > 0 && (
          <div class="mt-3 flex flex-wrap gap-2">
            {categories.slice(0, 2).map((cat) => (
              <span class="inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-xs text-gray-700">
                {cat}
              </span>
            ))}
            {categories.length > 2 && (
              <span class="inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 text-xs text-gray-700">
                +{categories.length - 2}
              </span>
            )}
          </div>
        )
      }
    </div>
  </article>
</a>
